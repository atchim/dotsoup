#
# Basic
#

# Quit bspwm.
super + ctrl + shift + q
  bspc quit

# Swap the current node and the biggest window.
super + shift + g
  bspc node --swap biggest.window.local

# Close / Kill
super + {_,shift + }q
  bspc node --{close,kill}

# Restart status bar.
super + space ; r ; b
  echo cmd:restart >/tmp/polybar-$USER-bspwm

# Restart bspwm.
super + space ; r ; w
  bspc wm --restart

# Toggle status bar.
super + b
  toggle-bar bspwm {hide,_}

# Toggle monocle layout.
super + m
  bspc desktop --layout next

# Send the newest marked node to the newest preselected node.
super + y
  bspc node newest.marked --to-node newest.!automatic

#
# Flags / State
#

# Set the window state.
super + {f,p,s,t}
  bspc node --state {fullscreen,pseudo_tiled,floating,tiled}

# Set the node flags.
super + g ; {m,x,y,z}
  bspc node --flag {marked,locked,sticky,private}

#
# Focus / Swap
#

# Focus given desktop or send node to the given desktop.
super + {_,shift + }{1-9,0}
  bspc {desktop --focus,node --to-desktop} '^{1-9,10}'

# Focus/swap in the given direction.
super + {_,shift + }{h,j,k,l}
  bspc node --{focus,swap} {west,south,north,east}

# Focus last local desktop/node.
super + {Tab,grave}
  bspc {desktop,node} --focus last.local

# Focus next/previous local node.
super + {comma,period}
  bspc node --focus {prev,next}.local

# Focus next/previous local desktop.
super + {less,greater}
  bspc desktop --focus {prev,next}.local

# Focus the newer/older node in the focus history.
super + {i,o}
  bspc wm --record-history off; \
  bspc node {newer,older} --focus; \
  bspc wm --record-history on

#
# Resize
#

# Contract a window by moving one of its side inward.
super + ctrl + shift + {h,j,k,l}
  bspc node --resize {right -16 0,top 0 16,bottom 0 -16,left 16 0}

# Expand a window by moving one of its side outward.
super + ctrl + {h,j,k,l}
  bspc node --resize {left -16 0,bottom 0 16,top 0 -16,right 16 0}

# Adjust split ratios of all leafs.
super + equal
  bspc node @/ --balance
